diff --git a/node_modules/utf-8-validate/index.js b/node_modules/utf-8-validate/index.js
index 8c30561..b917fa1 100644
--- a/node_modules/utf-8-validate/index.js
+++ b/node_modules/utf-8-validate/index.js
@@ -1,7 +1,21 @@
 'use strict';
 
 try {
-  module.exports = require('node-gyp-build')(__dirname);
+  if (typeof __webpack_require__ === 'function') {
+    const req = require.context("./prebuilds", true, /\/[^\/]+\.node$/);
+    const runtimePlatform = `${process.platform}-${process.arch}`;
+    //dirs are <platform>-<arch>(+<arch>)*
+    const fileNameRegex = new RegExp(`^\\./${process.platform}-(?:${process.arch}(?:\\+.+)?|[^+]+\\+${process.arch}(?:\\+.+)?)\\/[^\/]+\\.node$`)
+
+    process.env.DEBUG_PRINT_WEBPACK_CONTEXT && console.log("DEBUG: webpack context './prebuilds', runtimePlatform=", runtimePlatform, req.id, req.keys());
+    const fileName = req.keys().find(f => fileNameRegex.test(f));
+    if (!fileName) {
+      throw new Error(`.node for platform ${runtimePlatform} not found`);
+    }
+    module.exports = req(fileName);
+  } else {
+    module.exports = require('node-gyp-build')(__dirname);
+  }
 } catch (e) {
   module.exports = require('./fallback');
 }
\ No newline at end of file
